/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var Mt=Object.defineProperty;var Ao=Object.getOwnPropertyDescriptor;var So=Object.getOwnPropertyNames;var ko=Object.prototype.hasOwnProperty;var pn=e=>{throw TypeError(e)};var No=(e,t,r)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ro=(e,t)=>{for(var r in t)Mt(e,r,{get:t[r],enumerable:!0})},Io=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of So(t))!ko.call(e,o)&&o!==r&&Mt(e,o,{get:()=>t[o],enumerable:!(n=Ao(t,o))||n.enumerable});return e};var Co=e=>Io(Mt({},"__esModule",{value:!0}),e);var ne=(e,t,r)=>No(e,typeof t!="symbol"?t+"":t,r),_n=(e,t,r)=>t.has(e)||pn("Cannot "+r);var V=(e,t,r)=>(_n(e,t,"read from private field"),r?r.call(e):t.get(e)),Ft=(e,t,r)=>t.has(e)?pn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Pt=(e,t,r,n)=>(_n(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Bi={};Ro(Bi,{default:()=>qi});module.exports=Co(Bi);var $o=require("obsidian");var Eo=require("obsidian");var mn,vn,dn=(vn=(mn=globalThis.process)==null?void 0:mn.env)==null?void 0:vn.NODE_ENV,p=dn&&!dn.toLowerCase().startsWith("prod");var ce=Array.isArray,hn=Array.prototype.indexOf,ut=Array.from,_r=Object.keys,M=Object.defineProperty,ue=Object.getOwnPropertyDescriptor,dr=Object.getOwnPropertyDescriptors,mr=Object.prototype,gn=Array.prototype,je=Object.getPrototypeOf,vr=Object.isExtensible;function pt(e){for(var t=0;t<e.length;t++)e[t]()}var oe=Symbol("$state"),Vt=Symbol("legacy props"),xn=Symbol("");function qt(e){return e===this.v}function Bt(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function _t(e){return!Bt(e,this.v)}function hr(){if(p){let e=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/bind_invalid_checkbox_value")}function bn(){if(p){let e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function wn(){if(p){let e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This can happen when a reactive block or effect repeatedly sets a new value. Svelte limits the number of nested updates to prevent infinite loops
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yn(){if(p){let e=new Error(`hydration_failed
Failed to hydrate the application
https://svelte.dev/e/hydration_failed`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/hydration_failed")}function En(e){if(p){let t=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function $n(){if(p){let e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Tn(){if(p){let e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function An(){if(p){let e=new Error("state_unsafe_mutation\nUpdating state inside a derived or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}var Pe=!1,ge=!1;var Ve="[",qe="[!",Be="]";var Oe={};var I=Symbol(),pe=Symbol("filename"),Sn=Symbol("hmr"),kn="http://www.w3.org/1999/xhtml";var dt=null;function Ee(e){let t=Error(),r=t.stack;if(r){let n=r.split(`
`),o=[`
`];for(let i=0;i<n.length;i++){let s=n[i];if(s!=="Error"){if(s.includes("validate_each_keys"))return null;s.includes("svelte/src/internal")||o.push(s)}}if(o.length===1)return null;M(t,"stack",{value:o.join(`
`)}),M(t,"name",{value:`${e}Error`})}return t}var T=null;function mt(e){T=e}var _e=null;function vt(e){_e=e}function ht(e,t=!1,r){var n=T={p:T,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};Pe&&!t&&(T.l={s:null,u:null,r1:[],r2:de(!1)}),X(()=>{n.d=!0}),p&&(T.function=r,_e=r)}function gt(e){var s,a;let t=T;if(t!==null){e!==void 0&&(t.x=e);let f=t.e;if(f!==null){var r=b,n=w;t.e=null;try{for(var o=0;o<f.length;o++){var i=f[o];L(i.effect),C(i.reaction),be(i.fn)}}finally{L(r),C(n)}}T=t.p,p&&(_e=(a=(s=t.p)==null?void 0:s.function)!=null?a:null),t.m=!0}return e||{}}function xe(){return!Pe||T!==null&&T.l===null}function me(e){if(typeof e!="object"||e===null||oe in e)return e;let t=je(e);if(t!==mr&&t!==gn)return e;var r=new Map,n=ce(e),o=B(0),i=p&&ge?Ee("CreatedAt"):null,s=w,a=f=>{var l=w;C(s);var u=f();return C(l),u};return n&&r.set("length",B(e.length,i)),new Proxy(e,{defineProperty(f,l,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&$n();var _=r.get(l);return _===void 0?(_=a(()=>B(u.value,i)),r.set(l,_)):S(_,a(()=>me(u.value))),!0},deleteProperty(f,l){var u=r.get(l);if(u===void 0)l in f&&r.set(l,a(()=>B(I,i)));else{if(n&&typeof l=="string"){var _=r.get("length"),c=Number(l);Number.isInteger(c)&&c<_.v&&S(_,c)}S(u,I),In(o)}return!0},get(f,l,u){var m;if(l===oe)return e;var _=r.get(l),c=l in f;if(_===void 0&&(!c||(m=ue(f,l))!=null&&m.writable)&&(_=a(()=>B(me(c?f[l]:I),i)),r.set(l,_)),_!==void 0){var d=y(_);return d===I?void 0:d}return Reflect.get(f,l,u)},getOwnPropertyDescriptor(f,l){var u=Reflect.getOwnPropertyDescriptor(f,l);if(u&&"value"in u){var _=r.get(l);_&&(u.value=y(_))}else if(u===void 0){var c=r.get(l),d=c==null?void 0:c.v;if(c!==void 0&&d!==I)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(f,l){var d;if(l===oe)return!0;var u=r.get(l),_=u!==void 0&&u.v!==I||Reflect.has(f,l);if(u!==void 0||b!==null&&(!_||(d=ue(f,l))!=null&&d.writable)){u===void 0&&(u=a(()=>B(_?me(f[l]):I,i)),r.set(l,u));var c=y(u);if(c===I)return!1}return _},set(f,l,u,_){var v;var c=r.get(l),d=l in f;if(n&&l==="length")for(var m=u;m<c.v;m+=1){var g=r.get(m+"");g!==void 0?S(g,I):m in f&&(g=a(()=>B(I,i)),r.set(m+"",g))}c===void 0?(!d||(v=ue(f,l))!=null&&v.writable)&&(c=a(()=>B(void 0,i)),S(c,a(()=>me(u))),r.set(l,c)):(d=c.v!==I,S(c,a(()=>me(u))));var A=Reflect.getOwnPropertyDescriptor(f,l);if(A!=null&&A.set&&A.set.call(_,u),!d){if(n&&typeof l=="string"){var N=r.get("length"),R=Number(l);Number.isInteger(R)&&R>=N.v&&S(N,R+1)}In(o)}return!0},ownKeys(f){y(o);var l=Reflect.ownKeys(f).filter(c=>{var d=r.get(c);return d===void 0||d.v!==I});for(var[u,_]of r)_.v!==I&&!(u in f)&&l.push(u);return l},setPrototypeOf(){Tn()}})}function In(e,t=1){S(e,e.v+t)}function Ht(e){try{if(e!==null&&typeof e=="object"&&oe in e)return e[oe]}catch(t){}return e}function xt(e){var t=2050,r=w!==null&&(w.f&2)!==0?w:null;b===null||r!==null&&(r.f&256)!==0?t|=256:b.f|=1048576;let n={ctx:T,deps:null,effects:null,equals:qt,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r!=null?r:b};return p&&ge&&(n.created=Ee("CreatedAt")),n}function jt(e){let t=xt(e);return t.equals=_t,t}function Ut(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)F(t[r])}}var xr=[];function Mo(e){for(var t=e.parent;t!==null;){if((t.f&2)===0)return t;t=t.parent}return null}function yr(e){var t,r=b;if(L(Mo(e)),p){let n=Ye;br(new Set);try{xr.includes(e)&&bn(),xr.push(e),Ut(e),t=Gt(e)}finally{L(r),br(n),xr.pop()}}else try{Ut(e),t=Gt(e)}finally{L(r)}return t}function Er(e){var t=yr(e),r=($e||(e.f&256)!==0)&&e.deps!==null?4096:1024;P(e,r),e.equals(t)||(e.v=t,e.wv=bt())}var Ye=new Set,We=new Map;function br(e){Ye=e}function de(e,t){var r={f:0,v:e,reactions:null,equals:qt,rv:0,wv:0};return p&&ge&&(r.created=t!=null?t:Ee("CreatedAt"),r.debug=null),r}function B(e,t){let r=de(e,t);return $r(r),r}function De(e,t=!1){var n,o;let r=de(e);return t||(r.equals=_t),Pe&&T!==null&&T.l!==null&&((o=(n=T.l).s)!=null?o:n.s=[]).push(r),r}function S(e,t,r=!1){var o;w!==null&&!se&&xe()&&(w.f&18)!==0&&!((o=W)!=null&&o.includes(e))&&An();let n=r?me(t):t;return Ke(e,n)}function Ke(e,t){var n;if(!e.equals(t)){var r=e.v;if(Ze?We.set(e,t):We.set(e,r),e.v=t,p&&ge&&(e.updated=Ee("UpdatedAt"),b!=null&&(e.trace_need_increase=!0,(n=e.trace_v)!=null||(e.trace_v=r))),(e.f&2)!==0&&((e.f&2048)!==0&&yr(e),P(e,(e.f&256)===0?1024:4096)),e.wv=bt(),Cn(e,2048),xe()&&b!==null&&(b.f&1024)!==0&&(b.f&96)===0&&(Q===null?On([e]):Q.push(e)),p&&Ye.size>0){let o=Array.from(Ye);for(let i of o)(i.f&1024)!==0&&P(i,4096),Le(i)&&Xe(i);Ye.clear()}}return t}function Cn(e,t){var r=e.reactions;if(r!==null)for(var n=xe(),o=r.length,i=0;i<o;i++){var s=r[i],a=s.f;if((a&2048)===0&&!(!n&&s===b)){if(p&&(a&262144)!==0){Ye.add(s);continue}P(s,t),(a&1280)!==0&&((a&2)!==0?Cn(s,4096):Je(s))}}}var Wt="font-weight: bold",zt="font-weight: normal";function Dn(e,t,r){p?console.warn(`%c[svelte] hydration_attribute_changed
%cThe \`${e}\` attribute on \`${t}\` changed its value between server and client renders. The client value, \`${r}\`, will be ignored in favour of the server value
https://svelte.dev/e/hydration_attribute_changed`,Wt,zt):console.warn("https://svelte.dev/e/hydration_attribute_changed")}function Qe(e){p?console.warn(`%c[svelte] hydration_mismatch
%c${e?`Hydration failed because the initial UI does not match what was rendered on the server. The error occurred near ${e}`:"Hydration failed because the initial UI does not match what was rendered on the server"}
https://svelte.dev/e/hydration_mismatch`,Wt,zt):console.warn("https://svelte.dev/e/hydration_mismatch")}function Ln(){p?console.warn(`%c[svelte] lifecycle_double_unmount
%cTried to unmount a component that was not mounted
https://svelte.dev/e/lifecycle_double_unmount`,Wt,zt):console.warn("https://svelte.dev/e/lifecycle_double_unmount")}function Kt(e){p?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,Wt,zt):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}var h=!1;function z(e){h=e}var E;function k(e){if(e===null)throw Qe(),Oe;return E=e}function U(){return k(K(E))}function Ae(e){if(h){if(K(E)!==null)throw Qe(),Oe;E=e}}function et(){for(var e=0,t=E;;){if(t.nodeType===8){var r=t.data;if(r===Be){if(e===0)return t;e-=1}else(r===Ve||r===qe)&&(e+=1)}var n=K(t);t.remove(),t=n}}function Mn(){let e=Array.prototype,t=Array.__svelte_cleanup;t&&t();let{indexOf:r,lastIndexOf:n,includes:o}=e;e.indexOf=function(i,s){let a=r.call(this,i,s);if(a===-1){for(let f=s!=null?s:0;f<this.length;f+=1)if(Ht(this[f])===i){Kt("array.indexOf(...)");break}}return a},e.lastIndexOf=function(i,s){let a=n.call(this,i,s!=null?s:this.length-1);if(a===-1){for(let f=0;f<=(s!=null?s:this.length-1);f+=1)if(Ht(this[f])===i){Kt("array.lastIndexOf(...)");break}}return a},e.includes=function(i,s){let a=o.call(this,i,s);if(!a){for(let f=0;f<this.length;f+=1)if(Ht(this[f])===i){Kt("array.includes(...)");break}}return a},Array.__svelte_cleanup=()=>{e.indexOf=r,e.lastIndexOf=n,e.includes=o}}var Ar,Fn,wt,Pn,Vn;function Zt(){if(Ar===void 0){Ar=window,Fn=document,wt=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Pn=ue(t,"firstChild").get,Vn=ue(t,"nextSibling").get,vr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),vr(r)&&(r.__t=void 0),p&&(e.__svelte_meta=null,Mn())}}function ye(e=""){return document.createTextNode(e)}function G(e){return Pn.call(e)}function K(e){return Vn.call(e)}function Se(e,t){if(!h)return G(e);var r=G(E);if(r===null)r=E.appendChild(ye());else if(t&&r.nodeType!==3){var n=ye();return r==null||r.before(n),k(n),n}return k(r),r}function ke(e,t=1,r=!1){let n=h?E:e;for(var o;t--;)o=n,n=K(n);if(!h)return n;var i=n==null?void 0:n.nodeType;if(r&&i!==3){var s=ye();return n===null?o==null||o.after(s):n.before(s),k(s),s}return k(n),n}function yt(e){e.textContent=""}function Fo(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function He(e,t,r,n=!0){var f;var o=b;if(p)for(;o!==null&&(o.f&262144)!==0;)o=o.parent;var i={ctx:T,deps:null,nodes_start:null,nodes_end:null,f:e|2048,first:null,fn:t,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(p&&(i.component_function=_e),r)try{Xe(i),i.f|=32768}catch(l){throw F(i),l}else t!==null&&Je(i);var s=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&1048704)===0;if(!s&&n&&(o!==null&&Fo(i,o),w!==null&&(w.f&2)!==0)){var a=w;((f=a.effects)!=null?f:a.effects=[]).push(i)}return i}function X(e){let t=He(8,null,!1);return P(t,1024),t.teardown=e,t}function Nr(e){let t=He(64,e,!0);return()=>{F(t)}}function Yn(e){let t=He(64,e,!0);return(r={})=>new Promise(n=>{r.outro?Re(t,()=>{F(t),n(void 0)}):(F(t),n(void 0))})}function be(e){return He(4,e,!1)}function fe(e){return He(8,e,!0)}function Rr(e,t=[],r=xt){let n=t.map(r),o=()=>e(...n.map(y));return p&&M(o,"name",{value:"{expression}"}),ee(o)}function ee(e,t=0){return He(24|t,e,!0)}function Z(e,t=!0){return He(40,e,!0,t)}function Ir(e){var t=e.teardown;if(t!==null){let r=Ze,n=w;Sr(!0),C(null);try{t.call(null)}finally{Sr(r),C(n)}}}function Cr(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&64)!==0?r.parent=null:F(r,t),r=n}}function Hn(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&32)===0&&F(t),t=r}}function F(e,t=!0){var r=!1;if((t||(e.f&524288)!==0)&&e.nodes_start!==null){for(var n=e.nodes_start,o=e.nodes_end;n!==null;){var i=n===o?null:K(n);n.remove(),n=i}r=!0}Cr(e,t&&!r),$t(e,0),P(e,16384);var s=e.transitions;if(s!==null)for(let f of s)f.stop();Ir(e);var a=e.parent;a!==null&&a.first!==null&&Or(e),p&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Or(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Re(e,t){var r=[];Jt(e,r,!0),Dr(r,()=>{F(e),t&&t()})}function Dr(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var o of e)o.out(n)}else t()}function Jt(e,t,r){if((e.f&8192)===0){if(e.f^=8192,e.transitions!==null)for(let s of e.transitions)(s.is_global||r)&&t.push(s);for(var n=e.first;n!==null;){var o=n.next,i=(n.f&65536)!==0||(n.f&32)!==0;Jt(n,t,i?r:!1),n=o}}}function rt(e){Un(e,!0)}function Un(e,t){if((e.f&8192)!==0){e.f^=8192,(e.f&1024)===0&&(e.f^=1024),Le(e)&&(P(e,2048),Je(e));for(var r=e.first;r!==null;){var n=r.next,o=(r.f&65536)!==0||(r.f&32)!==0;Un(r,o?t:!1),r=n}if(e.transitions!==null)for(let i of e.transitions)(i.is_global||t)&&i.in()}}var Po=typeof requestIdleCallback=="undefined"?e=>setTimeout(e,1):requestIdleCallback,Tt=[],At=[];function Gn(){var e=Tt;Tt=[],pt(e)}function jn(){var e=At;At=[],pt(e)}function he(e){Tt.length===0&&queueMicrotask(Gn),Tt.push(e)}function Wn(e){At.length===0&&Po(jn),At.push(e)}function Lr(){Tt.length>0&&Gn(),At.length>0&&jn()}var zn=new WeakSet,Qt=!1,Nt=!1,St=null,Ue=!1,Ze=!1;function Sr(e){Ze=e}var kt=[],tr=[],w=null,se=!1;function C(e){w=e}var b=null;function L(e){b=e}var W=null;function $r(e){w!==null&&w.f&2097152&&(W===null?W=[e]:W.push(e))}var j=null,te=0,Q=null;function On(e){Q=e}var Jn=1,rr=0,$e=!1,Yt=null;function bt(){return++Jn}function Le(e){var _,c;var t=e.f;if((t&2048)!==0)return!0;if((t&4096)!==0){var r=e.deps,n=(t&256)!==0;if(r!==null){var o,i,s=(t&512)!==0,a=n&&b!==null&&!$e,f=r.length;if(s||a){var l=e,u=l.parent;for(o=0;o<f;o++)i=r[o],(s||!((_=i==null?void 0:i.reactions)!=null&&_.includes(l)))&&((c=i.reactions)!=null?c:i.reactions=[]).push(l);s&&(l.f^=512),a&&u!==null&&(u.f&256)===0&&(l.f^=256)}for(o=0;o<f;o++)if(i=r[o],Le(i)&&Er(i),i.wv>e.wv)return!0}(!n||b!==null&&!$e)&&P(e,1024)}return!1}function Kn(e,t){for(var r=t;r!==null;){if((r.f&128)!==0)try{r.fn(e);return}catch(n){r.f^=128}r=r.parent}throw Qt=!1,e}function Zn(e){return(e.f&16384)===0&&(e.parent===null||(e.parent.f&128)===0)}function nt(e,t,r,n){var u,_;if(Qt){if(r===null&&(Qt=!1),Zn(t))throw e;return}if(r!==null&&(Qt=!0),!p||n===null||!(e instanceof Error)||zn.has(e)){Kn(e,t);return}zn.add(e);let o=[],i=(u=t.fn)==null?void 0:u.name;i&&o.push(i);let s=n;for(;s!==null;){if(p){var a=(_=s.function)==null?void 0:_[pe];if(a){let c=a.split("/").pop();o.push(c)}}s=s.p}let f=wt?"  ":"	";M(e,"message",{value:e.message+`
${o.map(c=>`
${f}in ${c}`).join("")}
`}),M(e,"component_stack",{value:o});let l=e.stack;if(l){let c=l.split(`
`),d=[];for(let m=0;m<c.length;m++){let g=c[m];g.includes("svelte/src/internal")||d.push(g)}M(e,"stack",{value:d.join(`
`)})}if(Kn(e,t),Zn(t))throw e}function Qn(e,t,r=!0){var n=e.reactions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];W!=null&&W.includes(e)||((i.f&2)!==0?Qn(i,t,!1):t===i&&(r?P(i,2048):(i.f&1024)!==0&&P(i,4096),Je(i)))}}function Gt(e){var d,m;var t=j,r=te,n=Q,o=w,i=$e,s=W,a=T,f=se,l=e.f;j=null,te=0,Q=null,$e=(l&256)!==0&&(se||!Ue||w===null),w=(l&96)===0?e:null,W=null,mt(e.ctx),se=!1,rr++,e.f|=2097152;try{var u=(0,e.fn)(),_=e.deps;if(j!==null){var c;if($t(e,te),_!==null&&te>0)for(_.length=te+j.length,c=0;c<j.length;c++)_[te+c]=j[c];else e.deps=_=j;if(!$e)for(c=te;c<_.length;c++)((m=(d=_[c]).reactions)!=null?m:d.reactions=[]).push(e)}else _!==null&&te<_.length&&($t(e,te),_.length=te);if(xe()&&Q!==null&&!se&&_!==null&&(e.f&6146)===0)for(c=0;c<Q.length;c++)Qn(Q[c],e);return o!==e&&(rr++,Q!==null&&(n===null?n=Q:n.push(...Q))),u}finally{j=t,te=r,Q=n,w=o,$e=i,W=s,mt(a),se=f,e.f^=2097152}}function qo(e,t){let r=t.reactions;if(r!==null){var n=hn.call(r,e);if(n!==-1){var o=r.length-1;o===0?r=t.reactions=null:(r[n]=r[o],r.pop())}}r===null&&(t.f&2)!==0&&(j===null||!j.includes(t))&&(P(t,4096),(t.f&768)===0&&(t.f^=512),Ut(t),$t(t,0))}function $t(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)qo(e,r[n])}function Xe(e){var t=e.f;if((t&16384)===0){P(e,1024);var r=b,n=T,o=Ue;if(b=e,Ue=!0,p){var i=_e;vt(e.component_function)}try{(t&16)!==0?Hn(e):Cr(e),Ir(e);var s=Gt(e);e.teardown=typeof s=="function"?s:null,e.wv=Jn;var a=e.deps;if(p&&ge&&(e.f&2048)!==0&&a!==null)for(let l=0;l<a.length;l++){var f=a[l];f.trace_need_increase&&(f.wv=bt(),f.trace_need_increase=void 0,f.trace_v=void 0)}p&&tr.push(e)}catch(l){nt(l,e,r,n||e.ctx)}finally{Ue=o,b=r,p&&vt(i)}}}function Xn(){console.error("Last ten effects were: ",tr.slice(-10).map(e=>e.fn)),tr=[]}function Bo(){try{wn()}catch(e){if(p&&M(e,"stack",{value:""}),St!==null)if(p)try{nt(e,St,null,null)}catch(t){throw Xn(),t}else nt(e,St,null,null);else throw p&&Xn(),e}}function Fr(){var e=Ue;try{var t=0;for(Ue=!0;kt.length>0;){t++>1e3&&Bo();var r=kt,n=r.length;kt=[];for(var o=0;o<n;o++){var i=Ho(r[o]);Yo(i)}We.clear()}}finally{Nt=!1,Ue=e,St=null,p&&(tr=[])}}function Yo(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&24576)===0)try{Le(n)&&(Xe(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Or(n):n.fn=null))}catch(o){nt(o,n,null,n.ctx)}}}function Je(e){Nt||(Nt=!0,queueMicrotask(Fr));for(var t=St=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&96)!==0){if((r&1024)===0)return;t.f^=1024}}kt.push(t)}function Ho(e){for(var t=[],r=e;r!==null;){var n=r.f,o=(n&96)!==0,i=o&&(n&1024)!==0;if(!i&&(n&8192)===0){if((n&4)!==0)t.push(r);else if(o)r.f^=1024;else{var s=w;try{w=r,Le(r)&&Xe(r)}catch(l){nt(l,r,null,r.ctx)}finally{w=s}}var a=r.first;if(a!==null){r=a;continue}}var f=r.parent;for(r=r.next;r===null&&f!==null;)r=f.next,f=f.parent}return t}function Rt(e){var t;for(e&&(Nt=!0,Fr(),t=e()),Lr();kt.length>0;)Nt=!0,Fr(),Lr();return t}function y(e){var t=e.f,r=(t&2)!==0;if(Yt!==null&&Yt.add(e),w!==null&&!se){if(!(W!=null&&W.includes(e))){var n=w.deps;e.rv<rr&&(e.rv=rr,j===null&&n!==null&&n[te]===e?te++:j===null?j=[e]:(!$e||!j.includes(e))&&j.push(e))}}else if(r&&e.deps===null&&e.effects===null){var o=e,i=o.parent;i!==null&&(i.f&256)===0&&(o.f^=256)}if(r&&(o=e,Le(o)&&Er(o)),p&&ge&&dt!==null&&w!==null&&dt.reaction===w){if(e.debug)e.debug();else if(e.created){var s=dt.entries.get(e);s===void 0&&(s={read:[]},dt.entries.set(e,s)),s.read.push(Ee("TracedAt"))}}return Ze&&We.has(e)?We.get(e):e.v}function D(e){var t=se;try{return se=!0,e()}finally{se=t}}var Uo=-7169;function P(e,t){e.f=e.f&Uo|t}var Go=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","webkitdirectory","defer","disablepictureinpicture","disableremoteplayback"];var Va=[...Go,"formNoValidate","isMap","noModule","playsInline","readOnly","value","volume","defaultValue","defaultChecked","srcObject","noValidate","allowFullscreen","disablePictureInPicture","disableRemotePlayback"];var jo=["touchstart","touchmove"];function eo(e){return jo.includes(e)}var ro=new Map;function no(e,t){var r=ro.get(e);r||(r=new Set,ro.set(e,r)),r.add(t)}var oo=!1;function nr(){oo||(oo=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(let r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function or(e){var t=w,r=b;C(null),L(null);try{return e()}finally{C(t),L(r)}}function Pr(e,t,r,n=r){e.addEventListener(t,()=>or(r));let o=e.__on_r;o?e.__on_r=()=>{o(),n(!0)}:e.__on_r=()=>n(!0),nr()}var Vr=new Set,ir=new Set;function sr(e){for(var t=0;t<e.length;t++)Vr.add(e[t]);for(var r of ir)r(e)}function It(e){var R;var t=this,r=t.ownerDocument,n=e.type,o=((R=e.composedPath)==null?void 0:R.call(e))||[],i=o[0]||e.target,s=0,a=e.__root;if(a){var f=o.indexOf(a);if(f!==-1&&(t===document||t===window)){e.__root=t;return}var l=o.indexOf(t);if(l===-1)return;f<=l&&(s=f)}if(i=o[s]||e.target,i!==t){M(e,"currentTarget",{configurable:!0,get(){return i||r}});var u=w,_=b;C(null),L(null);try{for(var c,d=[];i!==null;){var m=i.assignedSlot||i.parentNode||i.host||null;try{var g=i["__"+n];if(g!=null&&(!i.disabled||e.target===i))if(ce(g)){var[A,...N]=g;A.apply(i,[e,...N])}else g.call(i,e)}catch(v){c?d.push(v):c=v}if(e.cancelBubble||m===t||m===null)break;i=m}if(c){for(let v of d)queueMicrotask(()=>{throw v});throw c}}finally{e.__root=t,delete e.currentTarget,C(u),L(_)}}}var Wo;function io(){Wo=void 0}function ar(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Me(e,t){var r=b;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function fr(e,t){var r=(t&1)!==0,n=(t&2)!==0,o,i=!e.startsWith("<!>");return()=>{if(h)return Me(E,null),E;o===void 0&&(o=ar(i?e:"<!>"+e),r||(o=G(o)));var s=n||wt?document.importNode(o,!0):o.cloneNode(!0);if(r){var a=G(s),f=s.lastChild;Me(a,f)}else Me(s,s);return s}}function ot(e,t){if(h){b.nodes_end=E,U();return}e!==null&&e.before(t)}var qr=!0;function Yr(e,t){var n;var r=t==null?"":typeof t=="object"?t+"":t;r!==((n=e.__t)!=null?n:e.__t=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function st(e,t){return so(e,t)}function Hr(e,t){var s;Zt(),t.intro=(s=t.intro)!=null?s:!1;let r=t.target,n=h,o=E;try{for(var i=G(r);i&&(i.nodeType!==8||i.data!==Ve);)i=K(i);if(!i)throw Oe;z(!0),k(i),U();let a=so(e,{...t,anchor:i});if(E===null||E.nodeType!==8||E.data!==Be)throw Qe(),Oe;return z(!1),a}catch(a){if(a===Oe)return t.recover===!1&&yn(),Zt(),yt(r),z(!1),st(e,t);throw a}finally{z(n),k(o),io()}}var it=new Map;function so(e,{target:t,anchor:r,props:n={},events:o,context:i,intro:s=!0}){Zt();var a=new Set,f=_=>{for(var c=0;c<_.length;c++){var d=_[c];if(!a.has(d)){a.add(d);var m=eo(d);t.addEventListener(d,It,{passive:m});var g=it.get(d);g===void 0?(document.addEventListener(d,It,{passive:m}),it.set(d,1)):it.set(d,g+1)}}};f(ut(Vr)),ir.add(f);var l=void 0,u=Yn(()=>{var _=r!=null?r:t.appendChild(ye());return Z(()=>{if(i){ht({});var c=T;c.c=i}o&&(n.$$events=o),h&&Me(_,null),qr=s,l=e(_,n)||{},qr=!0,h&&(b.nodes_end=E),i&&gt()}),()=>{var m;for(var c of a){t.removeEventListener(c,It);var d=it.get(c);--d===0?(document.removeEventListener(c,It),it.delete(c)):it.set(c,d)}ir.delete(f),_!==r&&((m=_.parentNode)==null||m.removeChild(_))}});return Br.set(l,u),l}var Br=new WeakMap;function Ur(e,t){let r=Br.get(e);return r?(Br.delete(e),r(t)):(p&&Ln(),Promise.resolve())}var Ct=null;function Wr(e,t){return t}function Qo(e,t,r,n){for(var o=[],i=t.length,s=0;s<i;s++)Jt(t[s].e,o,!0);var a=i>0&&o.length===0&&r!==null;if(a){var f=r.parentNode;yt(f),f.append(r),n.clear(),Fe(e,t[0].prev,t[i-1].next)}Dr(o,()=>{for(var l=0;l<i;l++){var u=t[l];a||(n.delete(u.k),Fe(e,u.prev,u.next)),F(u.e,!a)}})}function zr(e,t,r,n,o,i=null){var s=e,a={flags:t,items:new Map,first:null},f=(t&4)!==0;if(f){var l=e;s=h?k(G(l)):l.appendChild(ye())}h&&U();var u=null,_=!1,c=jt(()=>{var d=r();return ce(d)?d:d==null?[]:ut(d)});ee(()=>{var d=y(c),m=d.length;if(_&&m===0)return;_=m===0;let g=!1;if(h){var A=s.data===qe;A!==(m===0)&&(s=et(),k(s),z(!1),g=!0)}if(h){for(var N=null,R,v=0;v<m;v++){if(E.nodeType===8&&E.data===Be){s=E,g=!0,z(!1);break}var x=d[v],$=n(x,v);R=lo(E,a,N,null,x,$,v,o,t,r),a.items.set($,R),N=R}m>0&&k(et())}h||ei(d,a,s,o,t,n,r),i!==null&&(m===0?u?rt(u):u=Z(()=>i(s)):u!==null&&Re(u,()=>{u=null})),g&&z(!0),y(c)}),h&&(s=E)}function ei(e,t,r,n,o,i,s){var an,fn,ln,cn;var a=(o&8)!==0,f=(o&3)!==0,l=e.length,u=t.items,_=t.first,c=_,d,m=null,g,A=[],N=[],R,v,x,$;if(a)for($=0;$<l;$+=1)R=e[$],v=i(R,$),x=u.get(v),x!==void 0&&((an=x.a)==null||an.measure(),(g!=null?g:g=new Set).add(x));for($=0;$<l;$+=1){if(R=e[$],v=i(R,$),x=u.get(v),x===void 0){var ur=c?c.e.nodes_start:r;m=lo(ur,t,m,m===null?t.first:m.next,R,v,$,n,o,s),u.set(v,m),A=[],N=[],c=m.next;continue}if(f&&ti(x,R,$,o),(x.e.f&8192)!==0&&(rt(x.e),a&&((fn=x.a)==null||fn.unfix(),(g!=null?g:g=new Set).delete(x))),x!==c){if(d!==void 0&&d.has(x)){if(A.length<N.length){var Ce=N[0],re;m=Ce.prev;var ft=A[0],lt=A[A.length-1];for(re=0;re<A.length;re+=1)ao(A[re],Ce,r);for(re=0;re<N.length;re+=1)d.delete(N[re]);Fe(t,ft.prev,lt.next),Fe(t,m,ft),Fe(t,lt,Ce),c=Ce,m=lt,$-=1,A=[],N=[]}else d.delete(x),ao(x,c,r),Fe(t,x.prev,x.next),Fe(t,x,m===null?t.first:m.next),Fe(t,m,x),m=x;continue}for(A=[],N=[];c!==null&&c.k!==v;)(c.e.f&8192)===0&&(d!=null?d:d=new Set).add(c),N.push(c),c=c.next;if(c===null)continue;x=c}A.push(x),m=x,c=x.next}if(c!==null||d!==void 0){for(var ct=d===void 0?[]:ut(d);c!==null;)(c.e.f&8192)===0&&ct.push(c),c=c.next;var pr=ct.length;if(pr>0){var To=(o&4)!==0&&l===0?r:null;if(a){for($=0;$<pr;$+=1)(ln=ct[$].a)==null||ln.measure();for($=0;$<pr;$+=1)(cn=ct[$].a)==null||cn.fix()}Qo(t,ct,To,u)}}a&&he(()=>{var un;if(g!==void 0)for(x of g)(un=x.a)==null||un.apply()}),b.first=t.first&&t.first.e,b.last=m&&m.e}function ti(e,t,r,n){(n&1)!==0&&Ke(e.v,t),(n&2)!==0?Ke(e.i,r):e.i=r}function lo(e,t,r,n,o,i,s,a,f,l){var u=Ct,_=(f&1)!==0,c=(f&16)===0,d=_?c?De(o):de(o):o,m=(f&2)===0?s:de(s);p&&_&&(d.debug=()=>{var A=typeof m=="number"?s:m.v;l()[A]});var g={i:m,v:d,k:i,a:null,e:null,prev:r,next:n};Ct=g;try{return g.e=Z(()=>a(e,d,m,l),h),g.e.prev=r&&r.e,g.e.next=n&&n.e,r===null?t.first=g:(r.next=g,r.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{Ct=u}}function ao(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,o=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var s=K(i);o.before(i),i=s}}function Fe(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Kr(e,t){he(()=>{var o;var r=e.getRootNode(),n=r.host?r:(o=r.head)!=null?o:r.ownerDocument.head;if(!n.querySelector("#"+t.hash)){let i=document.createElement("style");i.id=t.hash,i.textContent=t.code,n.appendChild(i),p&&no(t.hash,i)}})}var au=[...` 	
\r\f\xA0\v\uFEFF`];var ai=Symbol("class"),fi=Symbol("style"),li=Symbol("is custom element"),ci=Symbol("is html");function Ot(e){if(h){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;Zr(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var o=e.checked;Zr(e,"checked",null),e.checked=o}}};e.__on_r=r,Wn(r),nr()}}function Zr(e,t,r,n){var o=ui(e);if(h&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")){n||_i(e,t,r!=null?r:"");return}o[t]!==(o[t]=r)&&(t==="loading"&&(e[xn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&pi(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function ui(e){var t;return(t=e.__attributes)!=null?t:e.__attributes={[li]:e.nodeName.includes("-"),[ci]:e.namespaceURI===kn}}var uo=new Map;function pi(e){var t=uo.get(e.nodeName);if(t)return t;uo.set(e.nodeName,t=[]);for(var r,n=e,o=Element.prototype;o!==n;){r=dr(n);for(var i in r)r[i].set&&t.push(i);n=je(n)}return t}function _i(e,t,r){var n;p&&(t==="srcset"&&di(e,r)||Xr((n=e.getAttribute(t))!=null?n:"",r)||Dn(t,e.outerHTML.replace(e.innerHTML,e.innerHTML&&"..."),String(r)))}function Xr(e,t){return e===t?!0:new URL(e,document.baseURI).href===new URL(t,document.baseURI).href}function po(e){return e.split(",").map(t=>t.trim().split(" ").filter(Boolean))}function di(e,t){var r=po(e.srcset),n=po(t);return n.length===r.length&&n.every(([o,i],s)=>i===r[s][1]&&(Xr(r[s][0],o)||Xr(o,r[s][0])))}function Dt(e,t,r=t){var n=xe();Pr(e,"input",o=>{p&&e.type==="checkbox"&&hr();var i=o?e.defaultValue:e.value;if(i=Jr(e)?Qr(i):i,r(i),n&&i!==(i=t())){var s=e.selectionStart,a=e.selectionEnd;e.value=i!=null?i:"",a!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(a,e.value.length))}}),(h&&e.defaultValue!==e.value||D(t)==null&&e.value)&&r(Jr(e)?Qr(e.value):e.value),fe(()=>{p&&e.type==="checkbox"&&hr();var o=t();Jr(e)&&o===Qr(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o!=null?o:"")})}function Jr(e){var t=e.type;return t==="number"||t==="range"}function Qr(e){return e===""?null:+e}var x_=Symbol();function mo(e){return new tn(e)}var Ie,le,tn=class{constructor(t){Ft(this,Ie);Ft(this,le);var i,s;var r=new Map,n=(a,f)=>{var l=De(f);return r.set(a,l),l};let o=new Proxy({...t.props||{},$$events:{}},{get(a,f){var l;return y((l=r.get(f))!=null?l:n(f,Reflect.get(a,f)))},has(a,f){var l;return f===Vt?!0:(y((l=r.get(f))!=null?l:n(f,Reflect.get(a,f))),Reflect.has(a,f))},set(a,f,l){var u;return S((u=r.get(f))!=null?u:n(f,l),l),Reflect.set(a,f,l)}});Pt(this,le,(t.hydrate?Hr:st)(t.component,{target:t.target,anchor:t.anchor,props:o,context:t.context,intro:(i=t.intro)!=null?i:!1,recover:t.recover})),(!((s=t==null?void 0:t.props)!=null&&s.$$host)||t.sync===!1)&&Rt(),Pt(this,Ie,o.$$events);for(let a of Object.keys(V(this,le)))a==="$set"||a==="$destroy"||a==="$on"||M(this,a,{get(){return V(this,le)[a]},set(f){V(this,le)[a]=f},enumerable:!0});V(this,le).$set=a=>{Object.assign(o,a)},V(this,le).$destroy=()=>{Ur(V(this,le))}}$set(t){V(this,le).$set(t)}$on(t,r){V(this,Ie)[t]=V(this,Ie)[t]||[];let n=(...o)=>r.call(this,...o);return V(this,Ie)[t].push(n),()=>{V(this,Ie)[t]=V(this,Ie)[t].filter(o=>o!==n)}}$destroy(){V(this,le).$destroy()}};Ie=new WeakMap,le=new WeakMap;var ki;typeof HTMLElement=="function"&&(ki=class extends HTMLElement{constructor(t,r,n){super();ne(this,"$$ctor");ne(this,"$$s");ne(this,"$$c");ne(this,"$$cn",!1);ne(this,"$$d",{});ne(this,"$$r",!1);ne(this,"$$p_d",{});ne(this,"$$l",{});ne(this,"$$l_u",new Map);ne(this,"$$me");this.$$ctor=t,this.$$s=r,n&&this.attachShadow({mode:"open"})}addEventListener(t,r,n){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(r),this.$$c){let o=this.$$c.$on(t,r);this.$$l_u.set(r,o)}super.addEventListener(t,r,n)}removeEventListener(t,r,n){if(super.removeEventListener(t,r,n),this.$$c){let o=this.$$l_u.get(r);o&&(o(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(o){return i=>{let s=document.createElement("slot");o!=="default"&&(s.name=o),ot(i,s)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let r={},n=Ni(this);for(let o of this.$$s)o in n&&(o==="default"&&!this.$$d.children?(this.$$d.children=t(o),r.default=!0):r[o]=t(o));for(let o of this.attributes){let i=this.$$g_p(o.name);i in this.$$d||(this.$$d[i]=rn(i,o.value,this.$$p_d,"toProp"))}for(let o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=mo({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=Nr(()=>{fe(()=>{var o;this.$$r=!0;for(let i of _r(this.$$c)){if(!((o=this.$$p_d[i])!=null&&o.reflect))continue;this.$$d[i]=this.$$c[i];let s=rn(i,this.$$d[i],this.$$p_d,"toAttribute");s==null?this.removeAttribute(this.$$p_d[i].attribute||i):this.setAttribute(this.$$p_d[i].attribute||i,s)}this.$$r=!1})});for(let o in this.$$l)for(let i of this.$$l[o]){let s=this.$$c.$on(o,i);this.$$l_u.set(i,s)}this.$$l={}}}attributeChangedCallback(t,r,n){var o;this.$$r||(t=this.$$g_p(t),this.$$d[t]=rn(t,n,this.$$p_d,"toProp"),(o=this.$$c)==null||o.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return _r(this.$$p_d).find(r=>this.$$p_d[r].attribute===t||!this.$$p_d[r].attribute&&r.toLowerCase()===t)||t}});function rn(e,t,r,n){var i;let o=(i=r[e])==null?void 0:i.type;if(t=o==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(o){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t==null?null:t;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function Ni(e){let t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}if(p){let e=function(t){if(!(t in globalThis)){let r;Object.defineProperty(globalThis,t,{configurable:!0,get:()=>{if(r!==void 0)return r;En(t)},set:n=>{r=n}})}};e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}var vo="5";var ho,go,xo;typeof window!="undefined"&&((xo=(go=(ho=window.__svelte)!=null?ho:window.__svelte={}).v)!=null?xo:go.v=new Set).add(vo);var Og=require("obsidian");var bo=require("obsidian");var Ag=require("obsidian");function nn(e,t,r,n){let o=new Map(e);return o=Oi(o,t),o=Di(o,r),o=Li(o,n),o}function Oi(e,t){if(t.length==0)return e;let r=new Map;return e.forEach((n,o)=>{for(let i=0;i<t.length;i++){let s=t[i];if(n.indexOf(s)==-1)return}r.set(o,n)}),r}function Di(e,t){if(t.length==0)return e;let r=new Map;return e.forEach((n,o)=>{for(let i=0;i<t.length;i++){let s=t[i];if(n.indexOf(s)!=-1)return r.set(o,n)}}),r}function Li(e,t){if(t.length==0)return e;let r=new Map;return e.forEach((n,o)=>{for(let i=0;i<t.length;i++){let s=t[i];if(n.indexOf(s)!=-1)return}r.set(o,n)}),r}function wo(e){let t=new Map;return e.vault.getMarkdownFiles().forEach(r=>{t.set(r,on(e,r))}),t}function on(e,t){var i;let r=[],n=e.metadataCache.getFileCache(t);return(n?((i=(0,bo.getAllTags)(n))==null?void 0:i.map(s=>s.substring(1)))||[]:[]).forEach(s=>{r.push(s),yo(s).forEach(a=>r&&r.push(a))}),r}function yo(e,t){t||(t=[]);let r=e.split("/");if(r.pop(),!r.length)return t;let n=r.join("/");return t.push(n),yo(n,t)}var Mi=(e,t,r)=>t(r()),Fi=fr('<div class="tree-item nav-file"><div class="tree-item-self nav-file-title tappable is-clickable svelte-1yf5sdb"><div class="tree-item-inner nav-file-title-content"> </div></div></div>'),Pi=fr('<div><h2>Search</h2> <div class="form-group svelte-1yf5sdb"><label for="tags_and" class="svelte-1yf5sdb">Tags AND</label> <input type="search" id="tags_and" placeholder="tags AND" class="svelte-1yf5sdb"></div> <div class="form-group svelte-1yf5sdb"><label for="tags_or" class="svelte-1yf5sdb">Tags OR</label> <input type="search" id="tags_or" placeholder="tags OR" class="svelte-1yf5sdb"></div> <div class="form-group svelte-1yf5sdb"><label for="tags_not" class="svelte-1yf5sdb">Tags NOT</label> <input type="search" id="tags_not" placeholder="tags NOT" class="svelte-1yf5sdb"></div> <h2>Search results</h2> <!></div>'),Vi={hash:"svelte-1yf5sdb",code:".form-group.svelte-1yf5sdb {margin:20px 0;}.form-group.svelte-1yf5sdb label:where(.svelte-1yf5sdb) {color:rgb(153, 153, 153);display:block;margin-bottom:8px;}.form-group.svelte-1yf5sdb input[type=search]:where(.svelte-1yf5sdb) {display:block;width:100%;}.nav-file-title.svelte-1yf5sdb {padding-left:0;}"};function sn(e,t){ht(t,!0),Kr(e,Vi);let r;function n(){clearTimeout(r),r=setTimeout(()=>{S(u,nn(s,o(y(a)),o(y(f)),o(y(l))),!0)},1e3)}function o(v){return v.split(",").map(x=>x.trim()).filter(x=>x.length)}function i(v){t.app.workspace.getLeaf().openFile(v)}let s=wo(t.app),a=B(""),f=B(""),l=B(""),u=B(me(new Map));t.plugin.registerEvent(t.app.metadataCache.on("changed",v=>{let x=on(t.app,v);s.set(v,x);let $=new Map;$.set(v,x),nn($,o(y(a)),o(y(f)),o(y(l))).get(v)?y(u).set(v,x):y(u).delete(v),S(u,new Map(y(u)),!0)})),t.plugin.registerEvent(t.app.vault.on("delete",v=>{s.delete(v),y(u).delete(v),S(u,new Map(y(u)),!0)}));var _=Pi(),c=ke(Se(_),2),d=ke(Se(c),2);Ot(d),Ae(c);var m=ke(c,2),g=ke(Se(m),2);Ot(g),Ae(m);var A=ke(m,2),N=ke(Se(A),2);Ot(N),Ae(A);var R=ke(A,4);zr(R,17,()=>y(u).entries(),Wr,(v,x)=>{let $=()=>y(x)[0],ur=()=>y(x)[1];var Ce=Fi(),re=Se(Ce);re.__click=[Mi,i,$];var ft=Se(re),lt=Se(ft,!0);Ae(ft),Ae(re),Ae(Ce),Rr(()=>Yr(lt,$().basename)),ot(v,Ce)}),Ae(_),Dt(d,()=>y(a),v=>{S(a,v,!0),n()}),Dt(g,()=>y(f),v=>{S(f,v,!0),n()}),Dt(N,()=>y(l),v=>{S(l,v,!0),n()}),ot(e,_),gt()}sr(["click"]);var at="tags-search-panel",cr=class extends Eo.ItemView{constructor(r,n){super(r);this.icon="binoculars";this.plugin=n}getViewType(){return at}getDisplayText(){return"Tags search panel"}async onOpen(){this.content=st(sn,{target:this.contentEl,props:{app:this.app,plugin:this.plugin}})}async onClose(){}};var Lt=class extends $o.Plugin{async onload(){console.log("loading tags plugin!"),this.registerView(at,t=>new cr(t,this)),this.activateTagsView(),this.addCommand({id:"show-tags-search-panel",name:"Show tags view panel",callback:()=>{this.activateTagsView()}})}async onunload(){this.deactivateTagsView()}async activateTagsView(){let{workspace:t}=this.app,r=null,n=t.getLeavesOfType(at);n.length>0?r=n[0]:(r=t.getLeftLeaf(!1),await r.setViewState({type:at,active:!0})),t.revealLeaf(r)}deactivateTagsView(){this.app.workspace.detachLeavesOfType(at)}};var qi=Lt;
